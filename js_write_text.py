#coding:utf-8from selenium import webdriverimport timebrowser = webdriver.Chrome()browser.maximize_window()browser.get('https://www.cnblogs.com/')time.sleep(4)blog_url = 'https://www.cnblogs.com/'yoyoblog = blog_url + 'yoyoketang'browser.get(yoyoblog)time.sleep(5)#点击编辑按钮browser.find_element_by_xpath('//*[@id="mainContent"]/div/div[2]/div[5]/a').click()time.sleep(4)#跳转到登录页面browser.find_element_by_xpath('//input[@id="input1"]').send_keys('不过如此1951')browser.find_element_by_xpath('//input[@id="input2"]').send_keys('xgh3213242016.')time.sleep(2)browser.find_element_by_xpath('//input[@id="remember_me"]').click()browser.find_element_by_xpath('//input[@id="signin"]').click()time.sleep(12)#点击添加随笔browser.find_element_by_link_text('添加新随笔').click()#定位标题框browser.find_element_by_id('Editor_Edit_txbTitle').send_keys('这是我的第5个随笔')body = '这里是通过js直接输入文本内容，不需要切入iframe'#js处理frame问题js = 'document.getElementById("Editor_Edit_EditorBody_ifr").contentWindow.document.body.innerHTML="%s"' % bodybrowser.execute_script(js)#拖动到底部js1 = 'var x=document.documentElement.scrollTop=100000'#执行脚本browser.execute_script(js1)time.sleep(3)#点击发布browser.find_element_by_id('Editor_Edit_lkbPost').click()time.sleep(2)print('发送成功')browser.close()browser.quit()