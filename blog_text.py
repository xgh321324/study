#coding:utf-8from selenium import webdriverfrom selenium.webdriver.common.keys import Keysimport time#profile_dir = r'C:\Users\Administrator\AppData\Local\Temp\rust_mozprofile.eQE65jHikbWU'#file = webdriver.FirefoxProfile(profile_dir)#browser = webdriver.Firefox(file)browser = webdriver.Chrome()browser.get('https://www.cnblogs.com/')browser.maximize_window()time.sleep(4)#browser.implicitly_wait(10)#browser.find_element_by_link_text('登录').click()#now_win = browser.current_window_handle#browser.switch_to.window(now_win)blog_url = 'https://www.cnblogs.com/'yoyoblog = blog_url + 'yoyoketang'browser.get(yoyoblog)time.sleep(4)browser.find_element_by_xpath('//*[@id="mainContent"]/div/div[2]/div[5]/a').click()time.sleep(3)L = browser.get_cookies()print('登录前的cookie是：%s' % L)browser.find_element_by_xpath('//input[@id="input1"]').send_keys('不过如此1951')browser.find_element_by_xpath('//input[@id="input2"]').send_keys('xgh3213242016.')time.sleep(2)browser.find_element_by_xpath('//input[@id="remember_me"]').click()browser.find_element_by_xpath('//*[contains(@type,"submit")]').click()print('下面手动进行验证。。')#browser.find_element_by_id('ss').send_keys(Keys.TAB)  试试Keys类怎么使用time.sleep(14)print('登录成功')L1 = browser.get_cookies()print('登录后的cookie是：%s' % L1)browser.find_element_by_link_text('添加新随笔').click()#现在进入到编辑页面time.sleep(5)#定位标题框browser.find_element_by_id('Editor_Edit_txbTitle').send_keys('这是我的第5个随笔')#切换到正文编辑框的framebrowser.switch_to.frame('Editor_Edit_EditorBody_ifr')text1 = '今天是星期四，我感觉今天的天气还可以，但是我还是比较喜欢出太阳的冬天；冬天来了，春天还会远么？对于2017年自己的表现感觉很一般，置顶的很多学习计划好像都没有完成，2018要努力了！！'browser.find_element_by_id('tinymce').send_keys(text1)time.sleep(3)browser.switch_to.default_content()    #这里很重要，之前切进frame忘记切出来了，所以导致最后的发布按钮一直定位不到！#此时需要将滚动条拖到底部才能看见发布按钮js = 'var x=document.documentElement.scrollTop=100000'browser.execute_script(js)#browser.execute_script('window.scrollBy(0,100000)')time.sleep(3)print('滚动到底部')browser.find_element_by_id('Editor_Edit_lkbPost').click()print('帖子已经发送成功！！！')time.sleep(4)browser.close()browser.quit()#list1 = list(set(L) ^ set(L1))#print(list1)