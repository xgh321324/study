#coding:utf-8from selenium import webdriverimport timebrowser = webdriver.Chrome()browser.get('https://www.cnblogs.com/')browser.maximize_window()time.sleep(4)blog_url = 'https://www.cnblogs.com/'yoyoblog = blog_url + 'yoyoketang'browser.get(yoyoblog)time.sleep(4)browser.find_element_by_xpath('//*[@id="mainContent"]/div/div[2]/div[5]/a').click()time.sleep(3)browser.find_element_by_xpath('//input[@id="input1"]').send_keys('不过如此1951')browser.find_element_by_xpath('//input[@id="input2"]').send_keys('xgh3213242016.')time.sleep(2)browser.find_element_by_xpath('//input[@id="remember_me"]').click()browser.find_element_by_xpath('//*[contains(@type,"submit")]').click()print('下面手动进行验证。。')time.sleep(10)browser.find_element_by_link_text('添加新随笔').click()#现在进入到编辑页面time.sleep(5)#定位标题框browser.find_element_by_id('Editor_Edit_txbTitle').send_keys('这是我的第2个随笔')#切换到正文编辑框的framebrowser.switch_to.frame('Editor_Edit_EditorBody_ifr')text1 = '；冬天来了，春天还会远么？！'browser.find_element_by_id('tinymce').send_keys(text1)browser.switch_to.default_content()browser.find_element_by_xpath('//*[contains(@alt,"上传图片")]').click()time.sleep(2)#切换到上传图片的frame#browser.switch_to.frame('mce_39_ifr')  这个frame是动态的，没有固定属性，那么只能用标签去定位他是第几个frame了f = browser.find_elements_by_tag_name('iframe')print('所有frame：',f)browser.switch_to.frame(f[1])#点击本地上传图片browser.find_element_by_xpath('//*[@type="file" and @name="file"]').send_keys(r'C:\Users\Administrator\Desktop\111.png')print('上传图片成功')browser.switch_to.default_content()js = 'var x=document.documentElement.scrollTop=100000'browser.execute_script(js)#browser.execute_script('window.scrollBy(0,100000)')time.sleep(3)print('滚动到底部')browser.find_element_by_id('Editor_Edit_lkbPost').click()print('帖子已经发送成功！！！')time.sleep(4)browser.close()browser.quit()